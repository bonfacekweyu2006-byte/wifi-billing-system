<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>WiFi Billing System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <div class="logo">ðŸ“¶</div>
      <div>
        <h1>WiFi Billing System</h1>
        <p class="muted">Local demo â€” data stored in your browser</p>
      </div>
    </div>
    <nav class="tabs">
      <button data-tab="dashboard" class="active">Dashboard</button>
      <button data-tab="plans">Plans</button>
      <button data-tab="customers">Customers</button>
      <button data-tab="usage">Usage</button>
      <button data-tab="billing">Billing</button>
      <button data-tab="reports">Reports</button>
      <button data-tab="settings">Settings</button>
    </nav>
  </header>

  <main>
    <!-- DASHBOARD -->
    <section id="dashboard" class="tab-panel active">
      <div class="grid">
        <div class="card kpi">
          <h3>Total revenue (paid)</h3>
          <div id="kpi-revenue" class="kpi-value">KES 0.00</div>
        </div>
        <div class="card kpi">
          <h3>Unpaid invoices</h3>
          <div id="kpi-unpaid" class="kpi-value">0</div>
        </div>
        <div class="card kpi">
          <h3>Active customers</h3>
          <div id="kpi-active" class="kpi-value">0</div>
        </div>
      </div>

      <div class="card">
        <h3>Recent invoices</h3>
        <table>
          <thead>
            <tr>
              <th>#</th><th>Customer</th><th>Plan</th><th>Total</th><th>Status</th><th>Date</th><th>Actions</th>
            </tr>
          </thead>
          <tbody id="dashboard-invoices"></tbody>
        </table>
      </div>
    </section>

    <!-- PLANS -->
    <section id="plans" class="tab-panel">
      <div class="split">
        <div class="card">
          <h3>Create / edit plan</h3>
          <form id="plan-form">
            <input type="hidden" name="id" />
            <div class="form-row">
              <label>Name</label>
              <input name="name" placeholder="Home 10Mbps" required />
            </div>
            <div class="form-row">
              <label>Price (KES)</label>
              <input name="price" type="number" min="0" step="0.01" placeholder="2000" required />
            </div>
            <div class="form-row">
              <label>Speed (Mbps)</label>
              <input name="speed" type="number" min="1" step="1" placeholder="10" required />
            </div>
            <div class="form-row">
              <label>Data cap (GB)</label>
              <input name="capGb" type="number" min="0" step="1" placeholder="100" />
            </div>
            <div class="form-row">
              <label>Duration (days)</label>
              <input name="durationDays" type="number" min="1" step="1" placeholder="30" required />
            </div>
            <div class="form-row">
              <label>Overage (KES/GB)</label>
              <input name="overagePerGb" type="number" min="0" step="0.01" placeholder="100" />
            </div>
            <div class="actions">
              <button type="submit" class="primary">Save plan</button>
              <button type="reset" class="ghost" id="plan-reset">Clear</button>
            </div>
          </form>
        </div>

        <div class="card">
          <h3>Plans</h3>
          <table>
            <thead>
              <tr>
                <th>Name</th><th>Price</th><th>Speed</th><th>Cap</th><th>Duration</th><th>Overage</th><th>Actions</th>
              </tr>
            </thead>
            <tbody id="plans-table"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- CUSTOMERS -->
    <section id="customers" class="tab-panel">
      <div class="split">
        <div class="card">
          <h3>Register customer</h3>
          <form id="customer-form">
            <input type="hidden" name="id" />
            <div class="form-row">
              <label>Full name</label>
              <input name="name" placeholder="Jane Doe" required />
            </div>
            <div class="form-row">
              <label>Phone</label>
              <input name="phone" placeholder="+2547..." required />
            </div>
            <div class="form-row">
              <label>Email</label>
              <input name="email" type="email" placeholder="jane@example.com" />
            </div>
            <div class="form-row">
              <label>Plan</label>
              <select name="planId" id="customer-plan-select" required></select>
            </div>
            <div class="form-row">
              <label>MAC address</label>
              <input name="mac" placeholder="AA:BB:CC:DD:EE:FF" />
            </div>
            <div class="form-row">
              <label>IP address</label>
              <input name="ip" placeholder="192.168.1.101" />
            </div>
            <div class="form-row">
              <label>Status</label>
              <select name="status">
                <option value="active">Active</option>
                <option value="suspended">Suspended</option>
                <option value="inactive">Inactive</option>
              </select>
            </div>
            <div class="actions">
              <button type="submit" class="primary">Save customer</button>
              <button type="reset" class="ghost" id="customer-reset">Clear</button>
            </div>
          </form>
        </div>

        <div class="card">
          <h3>Customers</h3>
          <table>
            <thead>
              <tr>
                <th>Name</th><th>Phone</th><th>Plan</th><th>Status</th><th>Usage</th><th>Actions</th>
              </tr>
            </thead>
            <tbody id="customers-table"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- USAGE -->
    <section id="usage" class="tab-panel">
      <div class="split">
        <div class="card">
          <h3>Record usage</h3>
          <form id="usage-form">
            <div class="form-row">
              <label>Customer</label>
              <select name="customerId" id="usage-customer-select" required></select>
            </div>
            <div class="form-row">
              <label>Data used (GB)</label>
              <input name="gb" type="number" min="0" step="0.01" placeholder="5.5" required />
            </div>
            <div class="form-row">
              <label>Date</label>
              <input name="date" type="date" required />
            </div>
            <div class="actions">
              <button type="submit" class="primary">Add usage</button>
            </div>
          </form>
        </div>

        <div class="card">
          <h3>Usage logs</h3>
          <table>
            <thead>
              <tr>
                <th>Customer</th><th>GB</th><th>Date</th><th>Actions</th>
              </tr>
            </thead>
            <tbody id="usage-table"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- BILLING -->
    <section id="billing" class="tab-panel">
      <div class="split">
        <div class="card">
          <h3>Create invoice</h3>
          <form id="invoice-form">
            <div class="form-row">
              <label>Customer</label>
              <select name="customerId" id="invoice-customer-select" required></select>
            </div>
            <div class="form-row">
              <label>Billing period start</label>
              <input name="startDate" type="date" required />
            </div>
            <div class="form-row">
              <label>Billing period end</label>
              <input name="endDate" type="date" required />
            </div>
            <div class="form-row">
              <label>Notes</label>
              <input name="notes" placeholder="Optional notes..." />
            </div>
            <div class="actions">
              <button type="submit" class="primary">Generate invoice</button>
            </div>
          </form>
        </div>

        <div class="card">
          <h3>Invoices</h3>
          <table>
            <thead>
              <tr>
                <th>#</th><th>Customer</th><th>Total</th><th>Status</th><th>Period</th><th>Actions</th>
              </tr>
            </thead>
            <tbody id="invoices-table"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- REPORTS -->
    <section id="reports" class="tab-panel">
      <div class="card">
        <h3>Summary</h3>
        <div class="grid">
          <div class="card kpi">
            <h3>Total customers</h3>
            <div id="rpt-customers" class="kpi-value">0</div>
          </div>
          <div class="card kpi">
            <h3>Total plans</h3>
            <div id="rpt-plans" class="kpi-value">0</div>
          </div>
          <div class="card kpi">
            <h3>Total invoices</h3>
            <div id="rpt-invoices" class="kpi-value">0</div>
          </div>
        </div>
      </div>
      <div class="card">
        <h3>Export data (JSON)</h3>
        <div class="actions">
          <button id="export-json" class="primary">Download JSON</button>
          <button id="import-json" class="ghost">Import JSON</button>
          <input type="file" id="import-file" accept="application/json" hidden />
        </div>
      </div>
    </section>

    <!-- SETTINGS -->
    <section id="settings" class="tab-panel">
      <div class="card">
        <h3>Business profile</h3>
        <form id="profile-form">
          <div class="form-row">
            <label>Business name</label>
            <input name="businessName" placeholder="Your ISP name" />
          </div>
          <div class="form-row">
            <label>Address</label>
            <input name="address" placeholder="Street, City" />
          </div>
          <div class="form-row">
            <label>Phone</label>
            <input name="phone" placeholder="+254..." />
          </div>
          <div class="form-row">
            <label>Tax rate (%)</label>
            <input name="taxRate" type="number" step="0.01" min="0" placeholder="16" />
          </div>
          <div class="actions">
            <button class="primary" type="submit">Save profile</button>
          </div>
        </form>
      </div>
      <div class="card danger">
        <h3>Danger zone</h3>
        <div class="actions">
          <button id="reset-store" class="danger">Reset all data</button>
        </div>
      </div>
    </section>
  </main>

  <!-- PRINT RECEIPT / INVOICE MODAL -->
  <div id="print-overlay" class="print-overlay hidden">
    <div class="print-card" id="print-card">
      <!-- populated dynamically -->
    </div>
    <div class="print-actions">
      <button id="print-close" class="ghost">Close</button>
      <button id="print-button" class="primary">Print</button>
    </div>
  </div>

  <footer class="app-footer">
    <span>Â© <span id="year"></span> WiFi Billing Demo</span>
    <span>Made for rapid prototyping â€” add backend for production</span>
  </footer>

  <script src="app.js"></script>
</body>
</html>
